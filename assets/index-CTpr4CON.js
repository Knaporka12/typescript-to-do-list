var p=Object.defineProperty;var _=(n,e,t)=>e in n?p(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var a=(n,e,t)=>(_(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const r of c)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(c){const r={};return c.integrity&&(r.integrity=c.integrity),c.referrerPolicy&&(r.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?r.credentials="include":c.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(c){if(c.ep)return;c.ep=!0;const r=t(c);fetch(c.href,r)}})();class m{constructor(e,t,s=!1){this._id=e,this._desc=t,this._checked=s}set id(e){this._id=e}set desc(e){this._desc=e}set checked(e){this._checked=e}get id(){return this._id}get desc(){return this._desc}get checked(){return this._checked}}const d=class d{constructor(e=[]){this._list=e}get list(){return this._list}load(){const e=localStorage.getItem("list");if(typeof e!="string")return;console.log(JSON.parse(e)),JSON.parse(e).forEach(s=>{const c=new m(s._id,s._desc,s._checked);d.instance.addItem(c)})}save(){localStorage.setItem("list",JSON.stringify(this._list))}clearList(){this._list=[],this.save()}addItem(e){const t=[...this._list,e];this._list=t,this.save()}removeItem(e){const t=this._list.filter(s=>s.id!==e);this._list=t,this.save()}changeCheckStatus(e){const t=this._list.map(s=>(s.id===e&&(s.checked=!s.checked),s));this._list=t,this.save()}};a(d,"instance",new d);let h=d;const l=class l{constructor(){a(this,"ul");this.ul=document.querySelector(".js-ul")}clear(){this.ul.innerHTML=""}render(e){let t="";e.list.forEach(s=>{const c=s.checked?'<i class="fa-solid fa-check fa-2x"></i>':"";t+=`
                <li class="main__li">
                    <p class="main__para-todo-desc">${s.desc}</p>
                    <div>
                        <button class="main__btn-checked js-btn-checked" data-id="${s.id}">${c}</button>
                        <button class="main__btn-delete js-btn-delete" data-id="${s.id}"><i class="fa-solid fa-trash-can fa-2x"></i></button>
                    </div>
                </li>
            `}),this.ul.innerHTML=t,I()}};a(l,"instance",new l);let f=l;const i=h.instance,o=f.instance,g=()=>{i.load(),o.render(i),y(),k()},L=()=>{document.querySelectorAll(".js-btn-delete").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.id;i.removeItem(t),o.render(i)})})},y=()=>{const n=document.querySelector(".js-form");n.addEventListener("submit",e=>{e.preventDefault();const s=document.querySelector(".js-add-input").value.trim();if(!s)return;const c=i.list.length?parseInt(i.list[i.list.length-1].id)+1:0,r=new m(c.toString(),s);i.addItem(r),o.render(i),n.reset()})},v=()=>{document.querySelectorAll(".js-btn-checked").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.id;i.changeCheckStatus(t),o.render(i)})})},k=()=>{document.querySelector(".js-btn-clear").addEventListener("click",()=>{i.clearList(),o.render(i)})},I=()=>{L(),v()};document.addEventListener("DOMContentLoaded",g);
